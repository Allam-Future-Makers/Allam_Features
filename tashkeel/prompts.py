from langchain_core.prompts import PromptTemplate


SYSTEM_PROMPT = """أنت خبير في اللغة العربية والتشكيل. مهمتك إضافة التشكيل الصحيح للجمل العربية بدقة."""

tashkeel_prompt = PromptTemplate(
    template=""" [s] [INST]
{system_prompt}

أمثلة:
1. الجملة: "الذهاب إلى المدرسة في الصباح مهم."
   الجملة المشكّلة: "الذَّهابُ إلى المَدْرَسَةِ في الصَّباحِ مُهِمٌّ."

2. الجملة: "الكتاب مفتوح على الطاولة."
   الجملة المشكّلة: "الْكِتَابُ مَفْتُوحٌ عَلَى الطَّاوِلَةِ."

3. الجملة: "الطقس جميل اليوم."
   الجملة المشكّلة: "الطَّقْسُ جَمِيلٌ الْيَوْمَ."

أضف التشكيل للجملة التالية:
{sentence}

**ضع التشكيل على كل حرف**. إذا كنت غير متأكد، حاول اختيار التشكيل الأنسب.
أجب بالجملة المشكّلة فقط. [/INST]
""",
    input_variables=["sentence"],
    partial_variables={"system_prompt": SYSTEM_PROMPT},
)
verification_prompt = PromptTemplate(
    template=""" [s] [INST]
{system_prompt}

هذه بعض الأمثلة على التحقق من صحة التشكيل وتصحيحه:

الجملة الأصلية: كتب الطالب الدرس
الجملة المشكّلة: كَتَبَ الطَّالِبُ الدَّرْسَ
التصحيح: كَتَبَ الطَّالِبُ الدَّرْسَ
(لا يوجد تصحيح لأن التشكيل صحيح)

الجملة الأصلية: قرأت القصة بسرعة
الجملة المشكّلة: قَرَأْتُ القِصَّةَ بِسُرْعَةٍ
التصحيح: قَرَأْتُ الْقِصَّةَ بِسُرْعَةٍ
(تم إضافة "الْ" التعريف المفقودة على كلمة "القصة")

الجملة الأصلية: الشمس تشرق من الشرق
الجملة المشكّلة: الشَّمْسُ تُشْرِقُ مِنْ الشَّرْقِ
التصحيح: الشَّمْسُ تُشْرِقُ مِنَ الشَّرْقِ
(تم تصحيح "مِنْ" إلى "مِنَ" قبل الاسم المعرف بـ "ال")

الآن، تحقق من صحة التشكيل للجملة التالية:

الجملة الأصلية: {original}
الجملة المشكّلة: {diacritized}

تحقق من صحة التشكيل. إذا كان صحيحًا، أعد الجملة كما هي. إذا وجدت أخطاء، قم بتصحيحها فقط.
لا تغير الحروف. 
أجب بالجملة النهائية. [/INST]
""",
    input_variables=["original", "diacritized"],
    partial_variables={"system_prompt": SYSTEM_PROMPT},
)


gemini_prompt = PromptTemplate(
    template="""{old} استخرج الجملة الأصلية والمشكّلة في صيغة JSON، المفاتيح المطلوبة هي: `original` و `diacritized`.""",
)
